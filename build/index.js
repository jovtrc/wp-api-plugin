!function(){"use strict";var e,t={608:function(e,t,n){var l=window.wp.blocks,a=window.wp.element,r=window.wp.i18n,i=window.wp.apiFetch,s=n.n(i),c=window.wp.components,o=window.wp.blockEditor,d=JSON.parse('{"u2":"joaocarvalho/api-plugin"}');(0,l.registerBlockType)(d.u2,{edit:function(e){let{attributes:t,setAttributes:n}=e;const[l,i]=(0,a.useState)(!1),[d,u]=(0,a.useState)({title:"",headers:[],rows:[],fields:[],hiddenFields:{}});return(0,a.useEffect)((()=>{!async function(){!1===l&&s()({path:"/joaocarvalho/v1/users/"}).then((e=>{var l,a,r;const s=Object.keys(e?.data?.rows[1]),c=Object.values(e?.data?.headers),o=Object.assign({},...s.map(((e,t)=>({[e]:c[t]}))));if(0===t.hiddenFields.length){const e=[];s.map((t=>e[t]=!1)),n({hiddenFields:e})}u({title:null!==(l=e?.title)&&void 0!==l?l:"",headers:null!==(a=e?.data?.headers)&&void 0!==a?a:[],rows:null!==(r=e?.data?.rows)&&void 0!==r?r:[],fields:null!=o?o:[]}),i(!0)}))}()})),n({tableContent:d}),(0,a.createElement)("div",(0,o.useBlockProps)(),(0,a.createElement)(o.InspectorControls,{key:"setting"},(0,a.createElement)(c.Panel,null,(0,a.createElement)(c.PanelBody,{icon:"layout",title:(0,r.__)("Hide Columns","api-plugin"),initialOpen:!1},Object.values(d.fields).map(((e,l)=>(0,a.createElement)(c.CheckboxControl,{key:e,label:e,checked:t.hiddenFields[Object.keys(d.fields)[l]],onChange:()=>(e=>{const l=t.hiddenFields[e],a={...t.hiddenFields,[e]:!l};n({hiddenFields:a})})(Object.keys(d.fields)[l])})))))),(0,a.createElement)("div",{className:"plugin-content"},(0,a.createElement)("h4",null,t.tableContent.title),(0,a.createElement)("table",null,(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,Object.values(d.fields).map(((e,n)=>!t.hiddenFields[Object.keys(d.fields)[n]]&&(0,a.createElement)("th",{key:e,className:Object.keys(d.fields)[n]},e))))),(0,a.createElement)("tbody",null,Object.values(d.rows).map((e=>(0,a.createElement)("tr",{key:e.id},Object.values(e).map(((n,l)=>!t.hiddenFields[Object.keys(e)[l]]&&(0,a.createElement)("td",{key:n,className:Object.keys(e)[l]},n))))))))))},save:function(e){let{attributes:t}=e;return(0,a.createElement)("div",o.useBlockProps.save(),(0,a.createElement)("div",{className:"plugin-content"},(0,a.createElement)("h4",null,t.tableContent.title),(0,a.createElement)("table",null,(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,Object.values(t.tableContent.fields).map(((e,n)=>!t.hiddenFields[Object.keys(t.tableContent.fields)[n]]&&(0,a.createElement)("th",{key:e,className:Object.keys(t.tableContent.fields)[n]},e))))),(0,a.createElement)("tbody",null,Object.values(t.tableContent.rows).map((e=>(0,a.createElement)("tr",{key:e.id},Object.values(e).map(((n,l)=>!t.hiddenFields[Object.keys(e)[l]]&&(0,a.createElement)("td",{key:n,className:Object.keys(e)[l]},n))))))))))}})}},n={};function l(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=function(t,n,a,r){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],r=e[d][2];for(var s=!0,c=0;c<n.length;c++)(!1&r||i>=r)&&Object.keys(l.O).every((function(e){return l.O[e](n[c])}))?n.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(d--,1);var o=a();void 0!==o&&(t=o)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,a,r]},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,i=n[0],s=n[1],c=n[2],o=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)l.o(s,a)&&(l.m[a]=s[a]);if(c)var d=c(l)}for(t&&t(n);o<i.length;o++)r=i[o],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(d)},n=self.webpackChunkapi_plugin=self.webpackChunkapi_plugin||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=l.O(void 0,[431],(function(){return l(608)}));a=l.O(a)}();